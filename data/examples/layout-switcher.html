<div class="layout-container" data-lang="zh-en">
  <div class="language-switch">
    <button class="lang-btn active" data-lang="zh">中文</button>
    <button class="lang-btn" data-lang="en">English</button>
  </div>

  <h2>
    <span data-zh="布局切换器">布局切换器</span>
    <span data-en="Layout Switcher">Layout Switcher</span>
  </h2>
  <p>
    <span data-zh="允许用户在不同的内容布局之间切换">允许用户在不同的内容布局之间切换</span>
    <span data-en="Allows users to switch between different content layouts">Allows users to switch between different content layouts</span>
  </p>
  
  <div class="layout-controls">
    <button class="layout-btn active" data-layout="grid">
      <svg viewBox="0 0 24 24" width="24" height="24"><path d="M4 4h6v6H4zm10 0h6v6h-6zM4 14h6v6H4zm10 0h6v6h-6z" fill="currentColor"/></svg>
      <span class="btn-text">
        <span class="zh-text">网格视图</span>
        <span class="en-text">Grid View</span>
      </span>
    </button>
    <button class="layout-btn" data-layout="list">
      <svg viewBox="0 0 24 24" width="24" height="24"><path d="M4 5h16v2H4zm0 6h16v2H4zm0 6h16v2H4z" fill="currentColor"/></svg>
      <span class="btn-text">
        <span class="zh-text">列表视图</span>
        <span class="en-text">List View</span>
      </span>
    </button>
    <button class="layout-btn" data-layout="cards">
      <svg viewBox="0 0 24 24" width="24" height="24"><path d="M4 4h16v7H4zm0 9h16v7H4z" fill="currentColor"/></svg>
      <span class="btn-text">
        <span class="zh-text">卡片视图</span>
        <span class="en-text">Card View</span>
      </span>
    </button>
  </div>
  
  <div class="content-container grid-layout">
    <div class="item">
      <img src="https://timetxt.github.io/screenshot.png?w=20&h=40" alt="Demo Image">
      <div class="item-content">
        <h3>
          <span data-zh="项目标题 1">项目标题 1</span>
          <span data-en="Project Title 1">Project Title 1</span>
        </h3>
        <p>
          <span data-zh="这是项目的简短描述，提供有关此项目的基本信息和细节。">这是项目的简短描述，提供有关此项目的基本信息和细节。</span>
          <span data-en="This is a brief description of the project, providing basic information and details about this project.">This is a brief description of the project, providing basic information and details about this project.</span>
        </p>
      </div>
    </div>
    <div class="item">
      <img src="https://timetxt.github.io/screenshot.png?w=20&h=40" alt="示例图像">
      <div class="item-content">
        <h3>
          <span data-zh="项目标题 2">项目标题 2</span>
          <span data-en="Project Title 2">Project Title 2</span>
        </h3>
        <p>
          <span data-zh="这是项目的简短描述，提供有关此项目的基本信息和细节。">这是项目的简短描述，提供有关此项目的基本信息和细节。</span>
          <span data-en="This is a brief description of the project, providing basic information and details about this project.">This is a brief description of the project, providing basic information and details about this project.</span>
        </p>
      </div>
    </div>
    <div class="item">
      <img src="https://timetxt.github.io/screenshot.png?w=20&h=40" alt="示例图像">
      <div class="item-content">
        <h3>
          <span data-zh="项目标题 3">项目标题 3</span>
          <span data-en="Project Title 3">Project Title 3</span>
        </h3>
        <p>
          <span data-zh="这是项目的简短描述，提供有关此项目的基本信息和细节。">这是项目的简短描述，提供有关此项目的基本信息和细节。</span>
          <span data-en="This is a brief description of the project, providing basic information and details about this project.">This is a brief description of the project, providing basic information and details about this project.</span>
        </p>
      </div>
    </div>
    <div class="item">
      <img src="https://timetxt.github.io/screenshot.png?w=20&h=40" alt="示例图像">
      <div class="item-content">
        <h3>
          <span data-zh="项目标题 4">项目标题 4</span>
          <span data-en="Project Title 4">Project Title 4</span>
        </h3>
        <p>
          <span data-zh="这是项目的简短描述，提供有关此项目的基本信息和细节。">这是项目的简短描述，提供有关此项目的基本信息和细节。</span>
          <span data-en="This is a brief description of the project, providing basic information and details about this project.">This is a brief description of the project, providing basic information and details about this project.</span>
        </p>
      </div>
    </div>
    <div class="item">
      <img src="https://timetxt.github.io/screenshot.png?w=20&h=40" alt="示例图像">
      <div class="item-content">
        <h3>
          <span data-zh="项目标题 5">项目标题 5</span>
          <span data-en="Project Title 5">Project Title 5</span>
        </h3>
        <p>
          <span data-zh="这是项目的简短描述，提供有关此项目的基本信息和细节。">这是项目的简短描述，提供有关此项目的基本信息和细节。</span>
          <span data-en="This is a brief description of the project, providing basic information and details about this project.">This is a brief description of the project, providing basic information and details about this project.</span>
        </p>
      </div>
    </div>
    <div class="item">
      <img src="https://timetxt.github.io/screenshot.png?w=20&h=40" alt="示例图像">
      <div class="item-content">
        <h3>
          <span data-zh="项目标题 6">项目标题 6</span>
          <span data-en="Project Title 6">Project Title 6</span>
        </h3>
        <p>
          <span data-zh="这是项目的简短描述，提供有关此项目的基本信息和细节。">这是项目的简短描述，提供有关此项目的基本信息和细节。</span>
          <span data-en="This is a brief description of the project, providing basic information and details about this project.">This is a brief description of the project, providing basic information and details about this project.</span>
        </p>
      </div>
    </div>
  </div>

  <style>
    /* Critical language switching styles */
    [data-lang="zh-en"] [data-zh] {
      display: block !important;
    }

    [data-lang="zh-en"] [data-en] {
      display: none !important;
    }

    [data-lang="zh-en"].en [data-zh] {
      display: none !important;
    }

    [data-lang="zh-en"].en [data-en] {
      display: block !important;
    }

    /* Button language text styles */
    .layout-btn .zh-text {
      display: inline-block;
    }
    
    .layout-btn .en-text {
      display: none;
    }
    
    [data-lang="zh-en"].en .layout-btn .zh-text {
      display: none;
    }
    
    [data-lang="zh-en"].en .layout-btn .en-text {
      display: inline-block;
    }

    /* Original adjustments for other elements */
    h1 [data-zh], h1 [data-en],
    h2 [data-zh], h2 [data-en],
    h3 [data-zh], h3 [data-en],
    p [data-zh], p [data-en],
    span[data-zh], span[data-en],
    button [data-zh], button [data-en] {
      display: inline !important;
    }
    
    /* Fix for inline elements in language switching */
    [data-lang="zh-en"].en h1 [data-zh],
    [data-lang="zh-en"].en h2 [data-zh],
    [data-lang="zh-en"].en h3 [data-zh],
    [data-lang="zh-en"].en p [data-zh],
    [data-lang="zh-en"].en span[data-zh],
    [data-lang="zh-en"].en button [data-zh] {
      display: none !important;
    }
    
    [data-lang="zh-en"].en h1 [data-en],
    [data-lang="zh-en"].en h2 [data-en],
    [data-lang="zh-en"].en h3 [data-en],
    [data-lang="zh-en"].en p [data-en],
    [data-lang="zh-en"].en span[data-en],
    [data-lang="zh-en"].en button [data-en] {
      display: inline !important;
    }
    
    [data-lang="zh-en"]:not(.en) h1 [data-en],
    [data-lang="zh-en"]:not(.en) h2 [data-en],
    [data-lang="zh-en"]:not(.en) h3 [data-en],
    [data-lang="zh-en"]:not(.en) p [data-en],
    [data-lang="zh-en"]:not(.en) span[data-en],
    [data-lang="zh-en"]:not(.en) button [data-en] {
      display: none !important;
    }

    /* Direct selectors for the layout button text */
    [data-lang="zh-en"].en .layout-btn span[data-zh] {
      display: none !important;
    }
    
    [data-lang="zh-en"].en .layout-btn span[data-en] {
      display: inline !important;
    }
    
    [data-lang="zh-en"]:not(.en) .layout-btn span[data-en] {
      display: none !important;
    }
    
    [data-lang="zh-en"]:not(.en) .layout-btn span[data-zh] {
      display: inline !important;
    }

    .language-switch {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 20px;
    }
    
    .lang-btn {
      background: none;
      border: 1px solid #ddd;
      padding: 5px 10px;
      margin-left: 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .lang-btn.active {
      background-color: #4285f4;
      color: white;
      border-color: #4285f4;
    }

    .layout-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 30px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
      background-color: #f5f7fa;
      border-radius: 10px;
    }

    .layout-container h2 {
      margin-top: 0;
      text-align: center;
      color: #333;
    }

    .layout-container > p {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
    }

    .layout-controls {
      display: flex;
      justify-content: center;
      margin-bottom: 30px;
      gap: 15px;
    }

    .layout-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 10px 15px;
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.3s;
      color: #666;
    }

    .layout-btn.active {
      background-color: #4285f4;
      color: white;
      border-color: #4285f4;
    }

    .layout-btn:hover:not(.active) {
      background-color: #f0f0f0;
    }

    .layout-btn svg {
      width: 20px;
      height: 20px;
    }

    /* 内容容器 */
    .content-container {
      transition: all 0.3s ease;
    }

    /* 网格布局 */
    .grid-layout {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }

    .grid-layout .item {
      display: flex;
      flex-direction: column;
      background-color: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s;
    }

    .grid-layout .item:hover {
      transform: translateY(-5px);
    }

    .grid-layout img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .grid-layout .item-content {
      padding: 15px;
    }

    .grid-layout h3 {
      margin-top: 0;
      color: #333;
    }

    .grid-layout p {
      color: #666;
      font-size: 0.9rem;
    }

    /* 列表布局 */
    .list-layout .item {
      display: flex;
      background-color: #fff;
      border-radius: 8px;
      margin-bottom: 15px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
    }

    .list-layout img {
      width: 120px;
      height: 120px;
      object-fit: cover;
    }

    .list-layout .item-content {
      padding: 15px;
      flex: 1;
    }

    .list-layout h3 {
      margin-top: 0;
      color: #333;
    }

    .list-layout p {
      color: #666;
      font-size: 0.9rem;
    }

    /* 卡片布局 */
    .cards-layout {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .cards-layout .item {
      display: flex;
      flex-direction: column;
      background-color: #fff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .cards-layout img {
      width: 100%;
      height: 250px;
      object-fit: cover;
    }

    .cards-layout .item-content {
      padding: 20px;
    }

    .cards-layout h3 {
      margin-top: 0;
      color: #333;
      font-size: 1.5rem;
    }

    .cards-layout p {
      color: #666;
      font-size: 1rem;
      line-height: 1.6;
    }

    /* 响应式调整 */
    @media (max-width: 768px) {
      .grid-layout {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
      
      .list-layout .item {
        flex-direction: column;
      }
      
      .list-layout img {
        width: 100%;
        height: 180px;
      }
    }
  </style>
  
  <script>
    // Initialize language switching immediately
    (function() {
      // Set default language to Chinese
      var container = document.querySelector('.layout-container');
      if (container) {
        container.classList.remove('en');
      }
    })();
    
    document.addEventListener('DOMContentLoaded', function() {
      // Layout switching functionality
      document.querySelectorAll('.layout-btn').forEach(button => {
        button.addEventListener('click', function() {
          // Remove active class from all buttons
          document.querySelectorAll('.layout-btn').forEach(btn => {
            btn.classList.remove('active');
          });
          
          // Add active class to current button
          this.classList.add('active');
          
          // Get layout type
          const layout = this.getAttribute('data-layout');
          const container = document.querySelector('.content-container');
          
          // Remove all layout classes
          container.classList.remove('grid-layout', 'list-layout', 'cards-layout');
          
          // Add new layout class
          container.classList.add(`${layout}-layout`);
        });
      });

      // Language switching functionality
      const container = document.querySelector('.layout-container');
      const langButtons = document.querySelectorAll('.lang-btn');
      
      // Language button click events
      langButtons.forEach(button => {
        button.addEventListener('click', function() {
          // Log for debugging
          console.log('Language button clicked:', this.getAttribute('data-lang'));
          
          // Remove active class from all buttons
          langButtons.forEach(btn => btn.classList.remove('active'));
          // Add active class to clicked button
          this.classList.add('active');
          
          // Set language
          if (this.getAttribute('data-lang') === 'en') {
            container.classList.add('en');
            console.log('Switching to English mode');
          } else {
            container.classList.remove('en');
            console.log('Switching to Chinese mode');
          }
        });
      });
    });
  </script>
</div> 