<div class="interactive-forms-container" data-lang="zh-en">
  <div class="language-switch">
    <button class="lang-btn active" data-lang="zh">ä¸­æ–‡</button>
    <button class="lang-btn" data-lang="en">English</button>
  </div>
  
  <h2>
    <span data-zh="äº¤äº’å¼è¡¨å•">äº¤äº’å¼è¡¨å•</span>
    <span data-en="Interactive Forms">Interactive Forms</span>
  </h2>
  <p>
    <span data-zh="å…·æœ‰å³æ—¶åé¦ˆå’ŒåŠ¨æ€æ•ˆæœçš„ç°ä»£è¡¨å•è®¾è®¡">å…·æœ‰å³æ—¶åé¦ˆå’ŒåŠ¨æ€æ•ˆæœçš„ç°ä»£è¡¨å•è®¾è®¡</span>
    <span data-en="Modern form design with instant feedback and dynamic effects">Modern form design with instant feedback and dynamic effects</span>
  </p>
  
  <form class="interactive-form">
    <div class="form-group">
      <label for="username">
        <span data-zh="ç”¨æˆ·å">ç”¨æˆ·å</span>
        <span data-en="Username">Username</span>
      </label>
      <input type="text" id="username" class="form-control" required>
      <div class="input-status"></div>
      <div class="form-feedback">
        <span data-zh="è¯·è¾“å…¥3-20ä¸ªå­—ç¬¦">è¯·è¾“å…¥3-20ä¸ªå­—ç¬¦</span>
        <span data-en="Please enter 3-20 characters">Please enter 3-20 characters</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="email">
        <span data-zh="ç”µå­é‚®ä»¶">ç”µå­é‚®ä»¶</span>
        <span data-en="Email">Email</span>
      </label>
      <input type="email" id="email" class="form-control" required>
      <div class="input-status"></div>
      <div class="form-feedback">
        <span data-zh="è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€">è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€</span>
        <span data-en="Please enter a valid email address">Please enter a valid email address</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="password">
        <span data-zh="å¯†ç ">å¯†ç </span>
        <span data-en="Password">Password</span>
      </label>
      <div class="password-container">
        <input type="password" id="password" class="form-control" required>
        <button type="button" class="toggle-password" aria-label="Toggle password visibility">
          <span class="eye-icon">ğŸ‘ï¸</span>
        </button>
      </div>
      <div class="input-status"></div>
      <div class="password-strength">
        <div class="strength-bar"></div>
        <div class="strength-text">
          <span data-zh="å¯†ç å¼ºåº¦">å¯†ç å¼ºåº¦</span>
          <span data-en="Password Strength">Password Strength</span>
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label for="interests">
        <span data-zh="å…´è¶£çˆ±å¥½">å…´è¶£çˆ±å¥½</span>
        <span data-en="Interests">Interests</span>
      </label>
      <div class="tags-input-container">
        <input type="text" id="interests-input" class="form-control">
        <input type="hidden" id="interests">
        <div class="tags-container"></div>
        <div class="form-feedback">
          <span data-zh="è¾“å…¥æ ‡ç­¾å¹¶æŒ‰å›è½¦æ·»åŠ ">è¾“å…¥æ ‡ç­¾å¹¶æŒ‰å›è½¦æ·»åŠ </span>
          <span data-en="Type tags and press enter to add">Type tags and press enter to add</span>
        </div>
      </div>
    </div>
    
    <button type="submit" class="submit-btn">
      <span data-zh="æäº¤">æäº¤</span>
      <span data-en="Submit">Submit</span>
    </button>
  </form>

  <style>
    .language-switch {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 20px;
    }
    
    .lang-btn {
      background: none;
      border: 1px solid #ddd;
      padding: 5px 10px;
      margin-left: 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .lang-btn.active {
      background-color: #4285f4;
      color: white;
      border-color: #4285f4;
    }
    
    /* Handle language display */
    [data-lang="zh-en"] [data-zh],
    [data-lang="zh-en"] [data-en] {
      display: none;
    }
    
    [data-lang="zh-en"] [data-zh] {
      display: inline;
    }
    
    [data-lang="zh-en"].en [data-zh] {
      display: none;
    }
    
    [data-lang="zh-en"].en [data-en] {
      display: inline;
    }
    
    .interactive-forms-container {
      max-width: 600px;
      margin: 0 auto;
      padding: 30px;
      background-color: #f8f9fa;
      border-radius: 10px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
    }
    
    .interactive-forms-container h2 {
      text-align: center;
      margin-top: 0;
      color: #333;
    }
    
    .interactive-forms-container p {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
    }
    
    /* è¡¨å•æ ·å¼ */
    .interactive-form {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }
    
    .form-group {
      position: relative;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #333;
    }
    
    .form-control {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: 2px solid #ddd;
      border-radius: 6px;
      background-color: #fff;
      transition: all 0.3s;
    }
    
    .form-control:focus {
      outline: none;
      border-color: #4285f4;
      box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
    }
    
    .input-status {
      position: absolute;
      right: 12px;
      top: 40px;
      width: 20px;
      height: 20px;
    }
    
    .form-feedback {
      margin-top: 5px;
      font-size: 14px;
      color: #666;
    }
    
    /* å¯†ç è¾“å…¥æ¡†æ ·å¼ */
    .password-container {
      position: relative;
    }
    
    .toggle-password {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
    
    .password-strength {
      margin-top: 10px;
    }
    
    .strength-bar {
      height: 6px;
      background-color: #eee;
      border-radius: 3px;
      margin-bottom: 5px;
    }
    
    .strength-text {
      font-size: 14px;
      color: #666;
    }
    
    /* æ ‡ç­¾è¾“å…¥æ ·å¼ */
    .tags-input-container {
      position: relative;
    }
    
    .tags-container {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    
    .tag {
      background-color: #e1f0ff;
      color: #0066cc;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 14px;
      display: flex;
      align-items: center;
    }
    
    .tag .remove-tag {
      margin-left: 8px;
      cursor: pointer;
    }
    
    /* æäº¤æŒ‰é’®æ ·å¼ */
    .submit-btn {
      padding: 14px 20px;
      background-color: #4285f4;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .submit-btn:hover {
      background-color: #3367d6;
    }
  </style>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // è¯­è¨€åˆ‡æ¢åŠŸèƒ½
      const container = document.querySelector('.interactive-forms-container');
      const langButtons = document.querySelectorAll('.lang-btn');
      
      // è®¾ç½®é»˜è®¤è¯­è¨€ä¸ºä¸­æ–‡
      container.classList.remove('en');
      
      // è¯­è¨€æŒ‰é’®ç‚¹å‡»äº‹ä»¶
      langButtons.forEach(button => {
        button.addEventListener('click', function() {
          // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
          langButtons.forEach(btn => btn.classList.remove('active'));
          // ç»™å½“å‰ç‚¹å‡»çš„æŒ‰é’®æ·»åŠ activeç±»
          this.classList.add('active');
          
          // è®¾ç½®è¯­è¨€
          if (this.getAttribute('data-lang') === 'en') {
            container.classList.add('en');
          } else {
            container.classList.remove('en');
          }
        });
      });
      
      // ç”¨æˆ·åéªŒè¯
      const usernameInput = document.getElementById('username');
      usernameInput.addEventListener('input', function() {
        validateUsername(this);
      });
      
      function validateUsername(input) {
        const value = input.value.trim();
        const statusElement = input.nextElementSibling;
        
        if (value.length === 0) {
          statusElement.innerHTML = '';
        } else if (value.length >= 3 && value.length <= 20) {
          statusElement.innerHTML = 'âœ…';
          input.classList.remove('invalid');
          input.classList.add('valid');
        } else {
          statusElement.innerHTML = 'âŒ';
          input.classList.remove('valid');
          input.classList.add('invalid');
        }
      }
      
      // é‚®ç®±éªŒè¯
      const emailInput = document.getElementById('email');
      emailInput.addEventListener('input', function() {
        validateEmail(this);
      });
      
      function validateEmail(input) {
        const value = input.value.trim();
        const statusElement = input.nextElementSibling;
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        if (value.length === 0) {
          statusElement.innerHTML = '';
        } else if (emailPattern.test(value)) {
          statusElement.innerHTML = 'âœ…';
          input.classList.remove('invalid');
          input.classList.add('valid');
        } else {
          statusElement.innerHTML = 'âŒ';
          input.classList.remove('valid');
          input.classList.add('invalid');
        }
      }
      
      // å¯†ç å¼ºåº¦æ£€æµ‹
      const passwordInput = document.getElementById('password');
      const strengthBar = document.querySelector('.strength-bar');
      const strengthText = document.querySelector('.strength-text');
      
      passwordInput.addEventListener('input', function() {
        const value = this.value;
        const strength = calculatePasswordStrength(value);
        updatePasswordStrength(strength);
      });
      
      function calculatePasswordStrength(password) {
        let strength = 0;
        if (password.length >= 8) strength += 20;
        if (password.match(/[a-z]+/)) strength += 20;
        if (password.match(/[A-Z]+/)) strength += 20;
        if (password.match(/[0-9]+/)) strength += 20;
        if (password.match(/[^a-zA-Z0-9]+/)) strength += 20;
        return strength;
      }
      
      function updatePasswordStrength(strength) {
        strengthBar.style.width = strength + '%';
        
        if (strength === 0) {
          strengthBar.style.backgroundColor = '#eee';
          strengthText.innerHTML = container.classList.contains('en') ? 'Password Strength' : 'å¯†ç å¼ºåº¦';
        } else if (strength <= 40) {
          strengthBar.style.backgroundColor = '#f44336';
          strengthText.innerHTML = container.classList.contains('en') ? 'Weak' : 'å¼±';
        } else if (strength <= 80) {
          strengthBar.style.backgroundColor = '#ffc107';
          strengthText.innerHTML = container.classList.contains('en') ? 'Medium' : 'ä¸­';
        } else {
          strengthBar.style.backgroundColor = '#4caf50';
          strengthText.innerHTML = container.classList.contains('en') ? 'Strong' : 'å¼º';
        }
      }
      
      // åˆ‡æ¢å¯†ç å¯è§æ€§
      const togglePasswordButton = document.querySelector('.toggle-password');
      togglePasswordButton.addEventListener('click', function() {
        const passwordInput = document.getElementById('password');
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          this.innerHTML = '<span class="eye-icon">ğŸ‘ï¸â€ğŸ—¨ï¸</span>';
        } else {
          passwordInput.type = 'password';
          this.innerHTML = '<span class="eye-icon">ğŸ‘ï¸</span>';
        }
      });
      
      // æ ‡ç­¾è¾“å…¥åŠŸèƒ½
      const tagsInput = document.getElementById('interests-input');
      const tagsContainer = document.querySelector('.tags-container');
      const interestsHidden = document.getElementById('interests');
      let tags = [];
      
      tagsInput.addEventListener('keydown', function(event) {
        if (event.key === 'Enter' && this.value.trim() !== '') {
          event.preventDefault();
          
          const tag = this.value.trim();
          if (!tags.includes(tag)) {
            tags.push(tag);
            updateTags();
          }
          
          this.value = '';
        }
      });
      
      function updateTags() {
        tagsContainer.innerHTML = '';
        interestsHidden.value = JSON.stringify(tags);
        
        tags.forEach((tag, index) => {
          const tagElement = document.createElement('div');
          tagElement.classList.add('tag');
          tagElement.innerHTML = `${tag} <span class="remove-tag" data-index="${index}">Ã—</span>`;
          tagsContainer.appendChild(tagElement);
        });
        
        // æ·»åŠ æ ‡ç­¾åˆ é™¤åŠŸèƒ½
        const removeButtons = document.querySelectorAll('.remove-tag');
        removeButtons.forEach(button => {
          button.addEventListener('click', function() {
            const index = parseInt(this.getAttribute('data-index'));
            tags.splice(index, 1);
            updateTags();
          });
        });
      }
      
      // è¡¨å•æäº¤
      const form = document.querySelector('.interactive-form');
      form.addEventListener('submit', function(event) {
        event.preventDefault();
        
        // åœ¨è¿™é‡Œå¯ä»¥æ·»åŠ è¡¨å•æäº¤çš„é€»è¾‘
        alert(container.classList.contains('en') ? 'Form submitted successfully!' : 'è¡¨å•æäº¤æˆåŠŸï¼');
      });
    });
  </script>
</div> 