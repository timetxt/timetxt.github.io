<div class="interactive-forms-container" data-lang="zh-en">
  <div class="language-switch">
    <button class="lang-btn active" data-lang="zh">中文</button>
    <button class="lang-btn" data-lang="en">English</button>
  </div>
  
  <h2>
    <span data-zh="交互式表单">交互式表单</span>
    <span data-en="Interactive Forms">Interactive Forms</span>
  </h2>
  <p>
    <span data-zh="具有即时反馈和动态效果的现代表单设计">具有即时反馈和动态效果的现代表单设计</span>
    <span data-en="Modern form design with instant feedback and dynamic effects">Modern form design with instant feedback and dynamic effects</span>
  </p>
  
  <form class="interactive-form">
    <div class="form-group">
      <label for="username">
        <span data-zh="用户名">用户名</span>
        <span data-en="Username">Username</span>
      </label>
      <input type="text" id="username" class="form-control" required>
      <div class="input-status"></div>
      <div class="form-feedback">
        <span data-zh="请输入3-20个字符">请输入3-20个字符</span>
        <span data-en="Please enter 3-20 characters">Please enter 3-20 characters</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="email">
        <span data-zh="电子邮件">电子邮件</span>
        <span data-en="Email">Email</span>
      </label>
      <input type="email" id="email" class="form-control" required>
      <div class="input-status"></div>
      <div class="form-feedback">
        <span data-zh="请输入有效的电子邮件地址">请输入有效的电子邮件地址</span>
        <span data-en="Please enter a valid email address">Please enter a valid email address</span>
      </div>
    </div>
    
    <div class="form-group">
      <label for="password">
        <span data-zh="密码">密码</span>
        <span data-en="Password">Password</span>
      </label>
      <div class="password-container">
        <input type="password" id="password" class="form-control" required>
        <button type="button" class="toggle-password" aria-label="Toggle password visibility">
          <span class="eye-icon">👁️</span>
        </button>
      </div>
      <div class="input-status"></div>
      <div class="password-strength">
        <div class="strength-bar"></div>
        <div class="strength-text">
          <span data-zh="密码强度">密码强度</span>
          <span data-en="Password Strength">Password Strength</span>
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label for="interests">
        <span data-zh="兴趣爱好">兴趣爱好</span>
        <span data-en="Interests">Interests</span>
      </label>
      <div class="tags-input-container">
        <input type="text" id="interests-input" class="form-control">
        <input type="hidden" id="interests">
        <div class="tags-container"></div>
        <div class="form-feedback">
          <span data-zh="输入标签并按回车添加">输入标签并按回车添加</span>
          <span data-en="Type tags and press enter to add">Type tags and press enter to add</span>
        </div>
      </div>
    </div>
    
    <button type="submit" class="submit-btn">
      <span data-zh="提交">提交</span>
      <span data-en="Submit">Submit</span>
    </button>
  </form>

  <style>
    .language-switch {
      display: flex;
      justify-content: flex-end;
      margin-bottom: 20px;
    }
    
    .lang-btn {
      background: none;
      border: 1px solid #ddd;
      padding: 5px 10px;
      margin-left: 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .lang-btn.active {
      background-color: #4285f4;
      color: white;
      border-color: #4285f4;
    }
    
    /* Handle language display */
    [data-lang="zh-en"] [data-zh],
    [data-lang="zh-en"] [data-en] {
      display: none;
    }
    
    [data-lang="zh-en"] [data-zh] {
      display: inline;
    }
    
    [data-lang="zh-en"].en [data-zh] {
      display: none;
    }
    
    [data-lang="zh-en"].en [data-en] {
      display: inline;
    }
    
    .interactive-forms-container {
      max-width: 600px;
      margin: 0 auto;
      padding: 30px;
      background-color: #f8f9fa;
      border-radius: 10px;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, sans-serif;
    }
    
    .interactive-forms-container h2 {
      text-align: center;
      margin-top: 0;
      color: #333;
    }
    
    .interactive-forms-container p {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
    }
    
    /* 表单样式 */
    .interactive-form {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }
    
    .form-group {
      position: relative;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: #333;
    }
    
    .form-control {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: 2px solid #ddd;
      border-radius: 6px;
      background-color: #fff;
      transition: all 0.3s;
    }
    
    .form-control:focus {
      outline: none;
      border-color: #4285f4;
      box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
    }
    
    .input-status {
      position: absolute;
      right: 12px;
      top: 40px;
      width: 20px;
      height: 20px;
    }
    
    .form-feedback {
      margin-top: 5px;
      font-size: 14px;
      color: #666;
    }
    
    /* 密码输入框样式 */
    .password-container {
      position: relative;
    }
    
    .toggle-password {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
    
    .password-strength {
      margin-top: 10px;
    }
    
    .strength-bar {
      height: 6px;
      background-color: #eee;
      border-radius: 3px;
      margin-bottom: 5px;
    }
    
    .strength-text {
      font-size: 14px;
      color: #666;
    }
    
    /* 标签输入样式 */
    .tags-input-container {
      position: relative;
    }
    
    .tags-container {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    
    .tag {
      background-color: #e1f0ff;
      color: #0066cc;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 14px;
      display: flex;
      align-items: center;
    }
    
    .tag .remove-tag {
      margin-left: 8px;
      cursor: pointer;
    }
    
    /* 提交按钮样式 */
    .submit-btn {
      padding: 14px 20px;
      background-color: #4285f4;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .submit-btn:hover {
      background-color: #3367d6;
    }
  </style>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 语言切换功能
      const container = document.querySelector('.interactive-forms-container');
      const langButtons = document.querySelectorAll('.lang-btn');
      
      // 设置默认语言为中文
      container.classList.remove('en');
      
      // 语言按钮点击事件
      langButtons.forEach(button => {
        button.addEventListener('click', function() {
          // 移除所有按钮的active类
          langButtons.forEach(btn => btn.classList.remove('active'));
          // 给当前点击的按钮添加active类
          this.classList.add('active');
          
          // 设置语言
          if (this.getAttribute('data-lang') === 'en') {
            container.classList.add('en');
          } else {
            container.classList.remove('en');
          }
        });
      });
      
      // 用户名验证
      const usernameInput = document.getElementById('username');
      usernameInput.addEventListener('input', function() {
        validateUsername(this);
      });
      
      function validateUsername(input) {
        const value = input.value.trim();
        const statusElement = input.nextElementSibling;
        
        if (value.length === 0) {
          statusElement.innerHTML = '';
        } else if (value.length >= 3 && value.length <= 20) {
          statusElement.innerHTML = '✅';
          input.classList.remove('invalid');
          input.classList.add('valid');
        } else {
          statusElement.innerHTML = '❌';
          input.classList.remove('valid');
          input.classList.add('invalid');
        }
      }
      
      // 邮箱验证
      const emailInput = document.getElementById('email');
      emailInput.addEventListener('input', function() {
        validateEmail(this);
      });
      
      function validateEmail(input) {
        const value = input.value.trim();
        const statusElement = input.nextElementSibling;
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        
        if (value.length === 0) {
          statusElement.innerHTML = '';
        } else if (emailPattern.test(value)) {
          statusElement.innerHTML = '✅';
          input.classList.remove('invalid');
          input.classList.add('valid');
        } else {
          statusElement.innerHTML = '❌';
          input.classList.remove('valid');
          input.classList.add('invalid');
        }
      }
      
      // 密码强度检测
      const passwordInput = document.getElementById('password');
      const strengthBar = document.querySelector('.strength-bar');
      const strengthText = document.querySelector('.strength-text');
      
      passwordInput.addEventListener('input', function() {
        const value = this.value;
        const strength = calculatePasswordStrength(value);
        updatePasswordStrength(strength);
      });
      
      function calculatePasswordStrength(password) {
        let strength = 0;
        if (password.length >= 8) strength += 20;
        if (password.match(/[a-z]+/)) strength += 20;
        if (password.match(/[A-Z]+/)) strength += 20;
        if (password.match(/[0-9]+/)) strength += 20;
        if (password.match(/[^a-zA-Z0-9]+/)) strength += 20;
        return strength;
      }
      
      function updatePasswordStrength(strength) {
        strengthBar.style.width = strength + '%';
        
        if (strength === 0) {
          strengthBar.style.backgroundColor = '#eee';
          strengthText.innerHTML = container.classList.contains('en') ? 'Password Strength' : '密码强度';
        } else if (strength <= 40) {
          strengthBar.style.backgroundColor = '#f44336';
          strengthText.innerHTML = container.classList.contains('en') ? 'Weak' : '弱';
        } else if (strength <= 80) {
          strengthBar.style.backgroundColor = '#ffc107';
          strengthText.innerHTML = container.classList.contains('en') ? 'Medium' : '中';
        } else {
          strengthBar.style.backgroundColor = '#4caf50';
          strengthText.innerHTML = container.classList.contains('en') ? 'Strong' : '强';
        }
      }
      
      // 切换密码可见性
      const togglePasswordButton = document.querySelector('.toggle-password');
      togglePasswordButton.addEventListener('click', function() {
        const passwordInput = document.getElementById('password');
        if (passwordInput.type === 'password') {
          passwordInput.type = 'text';
          this.innerHTML = '<span class="eye-icon">👁️‍🗨️</span>';
        } else {
          passwordInput.type = 'password';
          this.innerHTML = '<span class="eye-icon">👁️</span>';
        }
      });
      
      // 标签输入功能
      const tagsInput = document.getElementById('interests-input');
      const tagsContainer = document.querySelector('.tags-container');
      const interestsHidden = document.getElementById('interests');
      let tags = [];
      
      tagsInput.addEventListener('keydown', function(event) {
        if (event.key === 'Enter' && this.value.trim() !== '') {
          event.preventDefault();
          
          const tag = this.value.trim();
          if (!tags.includes(tag)) {
            tags.push(tag);
            updateTags();
          }
          
          this.value = '';
        }
      });
      
      function updateTags() {
        tagsContainer.innerHTML = '';
        interestsHidden.value = JSON.stringify(tags);
        
        tags.forEach((tag, index) => {
          const tagElement = document.createElement('div');
          tagElement.classList.add('tag');
          tagElement.innerHTML = `${tag} <span class="remove-tag" data-index="${index}">×</span>`;
          tagsContainer.appendChild(tagElement);
        });
        
        // 添加标签删除功能
        const removeButtons = document.querySelectorAll('.remove-tag');
        removeButtons.forEach(button => {
          button.addEventListener('click', function() {
            const index = parseInt(this.getAttribute('data-index'));
            tags.splice(index, 1);
            updateTags();
          });
        });
      }
      
      // 表单提交
      const form = document.querySelector('.interactive-form');
      form.addEventListener('submit', function(event) {
        event.preventDefault();
        
        // 在这里可以添加表单提交的逻辑
        alert(container.classList.contains('en') ? 'Form submitted successfully!' : '表单提交成功！');
      });
    });
  </script>
</div> 